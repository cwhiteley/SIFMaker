require 'rubygems'
require 'SIFMaker'

$PLEASE_INDENT_XML = 2

SIF = SIFMaker::US20r1
a = SIF::MedicalAlertMessage.new(:severity=>"Low", :medicalalertmessage => 'This is a medical alert for Christopher Whiteley')
b = SIF::MedicalAlertMessage.new(:severity=>"Low", :medicalalertmessage => "Chris's has the chicken pots")

@c = [a]
@d = [a,b]

list = SIF::MedicalAlertMessages.new(:medicalalertmessages => @c )
@list = list.to_xml
puts
puts @list

list = SIF::MedicalAlertMessages.new(:medicalalertmessages => @d )
@list = list.to_xml
puts
puts @list
puts

listed = SIF::MedicalAlertMessages.parse(@list)

@med = listed.medicalalertmessages[0]
puts @med.severity
puts listed.medicalalertmessages[0].severity